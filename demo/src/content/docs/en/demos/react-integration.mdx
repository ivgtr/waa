---
title: React Integration
description: Interactive demo of using waa-play with React
---

import ReactPlayerDemo from '../../../../components/demo/ReactPlayerDemo.tsx';
import { Code } from '@astrojs/starlight/components';
import { reactPlayerDemo } from '../../../../snippets/demos/react-integration';

A working demo of waa-play with React. Uses `useSyncExternalStore` with `subscribeSnapshot` / `getSnapshot` to reactively manage playback state.

<ReactPlayerDemo client:load locale="en" />

## Source Code

The core logic of this demo. UI rendering code is omitted.

<Code code={reactPlayerDemo} lang="tsx" />

## Key Points

- **`usePlaybackSnapshot`**: A reusable hook wrapping `useSyncExternalStore` + `subscribeSnapshot` / `getSnapshot` to subscribe to Playback state as React state
- **`useReactPlayer`**: Consolidates player lifecycle (WaaPlayer management, buffer generation/loading, playback controls) into a single hook, keeping the component view-only
- **BYO AudioContext**: `WaaPlayer` manages its own AudioContext internally. Call `ensureRunning()` after a user gesture to resume
